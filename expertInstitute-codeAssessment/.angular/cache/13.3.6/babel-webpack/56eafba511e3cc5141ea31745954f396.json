{"ast":null,"code":"import { catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { of, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/core.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/asset-card/asset-card.component\";\nimport * as i5 from \"../../core/pipes/currency-search-filter.pipe\";\n\nfunction LandingComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 17);\n    i0.ɵɵlistener(\"click\", function LandingComponent_div_16_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const asset_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.displayAsset(asset_r1);\n    });\n    i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"div\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"uppercase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 19);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 19);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"percent\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const asset_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", asset_r1.changePercent24Hr > 0 ? \"p-2 alert alert-success assetHover\" : \"p-2 alert alert-danger assetHover\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(asset_r1.symbol);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 5, asset_r1.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(11, 7, asset_r1.priceUsd, \"USD\", \"symbol-narrow\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 11, asset_r1.changePercent24Hr, \"2.2-3\"));\n  }\n}\n\nexport let LandingComponent = /*#__PURE__*/(() => {\n  class LandingComponent {\n    constructor(coreService) {\n      this.coreService = coreService;\n      this.allAssets = [];\n      this.currentAsset = {\n        id: '',\n        rank: 0,\n        symbol: '',\n        name: '',\n        supply: 0,\n        maxSupply: 0,\n        marketCapUsd: 0,\n        volumeUsd24Hr: 0,\n        priceUsd: 0,\n        changePercent24Hr: 0,\n        vwap24Hr: 0,\n        explorer: ''\n      };\n      this.downwardTrend = false;\n      this.upwardTrend = false;\n      this.alphabetical = false;\n      this.cost = false;\n      this.sampleData = [{\n        open: 0.0708000000000000,\n        high: 0.0710450000000000,\n        low: 0.0706434000000000,\n        close: 0.0708350100000000,\n        volume: 1818.1433015300000000,\n        period: \"1530720000000\"\n      }, {\n        open: 0.0708316700000000,\n        high: 0.0715192000000000,\n        low: 0.0706544100000000,\n        close: 0.0712472600000000,\n        volume: 1649.2534471200000000,\n        period: \"1530748800000\"\n      }, {\n        open: 0.0712452600000000,\n        high: 0.0717550000000000,\n        low: 0.0709818600000000,\n        close: 0.0713202600000000,\n        volume: 1727.3015548300000000,\n        period: \"1530777600000\"\n      }, {\n        open: 0.0713400000000000,\n        high: 0.0716440200000000,\n        low: 0.0709436400000000,\n        close: 0.0716373500000000,\n        volume: 832.2377254200000000,\n        period: \"1530806400000\"\n      }, {\n        open: 0.0716852400000000,\n        high: 0.0717850000000000,\n        low: 0.0700000000000000,\n        close: 0.0703750000000000,\n        volume: 2791.1439402600000000,\n        period: \"1530835200000\"\n      }, {\n        open: 0.0703750000000000,\n        high: 0.0714796800000000,\n        low: 0.0702492000000000,\n        close: 0.0712949900000000,\n        volume: 1878.1581776500000000,\n        period: \"1530864000000\"\n      }, {\n        open: 0.0711771600000000,\n        high: 0.0717000000000000,\n        low: 0.0708528700000000,\n        close: 0.0711200000000000,\n        volume: 1368.7725389300000000,\n        period: \"1530892800000\"\n      }, {\n        open: 0.0711300000000000,\n        high: 0.0714714300000000,\n        low: 0.0707802600000000,\n        close: 0.0712365000000000,\n        volume: 865.5540202300000000,\n        period: \"1530921600000\"\n      }, {\n        open: 0.0712364900000000,\n        high: 0.0716181400000000,\n        low: 0.0708000000000000,\n        close: 0.0711000100000000,\n        volume: 1228.4198248600000000,\n        period: \"1530950400000\"\n      }];\n    }\n\n    ngOnInit() {\n      this.getAllAssets();\n    }\n\n    getAllAssets() {\n      this.coreService.getAllAssets().pipe(catchError(error => {\n        if (error instanceof HttpErrorResponse) {\n          // this.logger.error(`There was a problem retrieving NSLDS data: ${error.message}`);\n          // TODO: change to logger\n          return of([]);\n        } else {\n          return throwError(error);\n        }\n      })).subscribe(response => {\n        this.allAssets = response.data;\n        this.currentAsset = this.allAssets[0];\n      });\n    }\n\n    filterBadges(badgeId) {\n      switch (badgeId) {\n        case 0:\n          {\n            // Alphabetical\n            console.log('alphabetical');\n            this.alphabetical = !this.alphabetical;\n            break;\n          }\n\n        case 1:\n          {\n            // Cost\n            console.log('cost');\n            this.cost = !this.cost;\n            break;\n          }\n      } //TODO: add back filters\n      // if(cost) {\n      //   return list ? list.sort(function(a, b){ return a.priceUsd-b.priceUsd; }) : [];\n      // }\n      // if(alphabetical) {\n      //   return list ? list.sort(function(a, b){\n      //     if (a.name < b.name) {return -1;}\n      //     if (a.name > b.name) {return 1;}\n      //     return 0;\n      //   }) : [];\n      // }\n\n    }\n\n    displayAsset(asset) {\n      console.log(asset);\n      this.currentAsset = asset;\n    }\n\n  }\n\n  LandingComponent.ɵfac = function LandingComponent_Factory(t) {\n    return new (t || LandingComponent)(i0.ɵɵdirectiveInject(i1.CoreService));\n  };\n\n  LandingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LandingComponent,\n    selectors: [[\"app-landing\"]],\n    decls: 38,\n    vars: 17,\n    consts: [[1, \"row\"], [1, \"col-4\"], [1, \"card\", \"marketCard\"], [1, \"pt-1\", \"card-body\"], [1, \"cardHeader\"], [1, \"mb-2\", \"starNote\"], [1, \"d-flex\"], [\"type\", \"search\", \"name\", \"name\", \"placeholder\", \"Search Currency Name\", \"aria-label\", \"Search\", 1, \"form-control\", \"mb-1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"assetHover\", 3, \"ngClass\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"assetHover\", \"m-1\", 3, \"ngClass\", \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-8\"], [1, \"card\", \"graphCard\"], [1, \"card-header\", 3, \"ngClass\"], [1, \"currencyHeader\"], [1, \"col-4\", \"currencyDetails\"], [1, \"card-body\"], [\"role\", \"alert\", 3, \"ngClass\", \"click\"], [1, \"currencySymbol\"], [1, \"col-4\", \"currencyDescription\"]],\n    template: function LandingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\")(5, \"span\", 4);\n        i0.ɵɵtext(6, \"MARKET\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"span\", 5);\n        i0.ɵɵtext(8, \"*prices below shown in USD\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"form\", 6)(10, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LandingComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.searchInput = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\")(12, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function LandingComponent_Template_button_click_12_listener() {\n          return ctx.filterBadges(0);\n        });\n        i0.ɵɵtext(13, \"Alphabetical\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function LandingComponent_Template_button_click_14_listener() {\n          return ctx.filterBadges(1);\n        });\n        i0.ɵɵtext(15, \"Cost\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(16, LandingComponent_div_16_Template, 15, 14, \"div\", 10);\n        i0.ɵɵpipe(17, \"currencySearchFilter\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(18, \"div\", 11)(19, \"div\", 12)(20, \"div\", 13)(21, \"div\", 0)(22, \"div\", 1)(23, \"div\", 4);\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 14);\n        i0.ɵɵtext(26);\n        i0.ɵɵpipe(27, \"uppercase\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 15);\n        i0.ɵɵtext(29);\n        i0.ɵɵpipe(30, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"div\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"div\", 16);\n        i0.ɵɵelement(33, \"asset-chart-card\");\n        i0.ɵɵelementStart(34, \"div\", 0);\n        i0.ɵɵelement(35, \"div\", 1)(36, \"div\", 1)(37, \"div\", 1);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchInput);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.alphabetical ? \"btn-dark\" : \"btn-outline-dark\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.cost ? \"btn-dark\" : \"btn-outline-dark\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(17, 8, ctx.allAssets, ctx.searchInput));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", ctx.currentAsset.changePercent24Hr > 0 ? \"text-white bg-success\" : \"text-white bg-danger\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.currentAsset.symbol);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(27, 11, ctx.currentAsset.name));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(30, 13, ctx.currentAsset.priceUsd, \"USD\", \"symbol-narrow\"), \" \");\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgClass, i3.NgForOf, i4.AssetCardComponent],\n    pipes: [i5.CurrencySearchFilterPipe, i3.UpperCasePipe, i3.CurrencyPipe, i3.PercentPipe],\n    styles: [\".assetHover[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.cardHeader[_ngcontent-%COMP%]{font-size:40px;font-weight:200;text-align:left}.currencyHeader[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.starNote[_ngcontent-%COMP%]{font-size:10px}.currencyDetails[_ngcontent-%COMP%]{font-size:30px;font-weight:200;text-align:center}.currencyDescription[_ngcontent-%COMP%]{font-size:16px}.currencySymbol[_ngcontent-%COMP%]{font-size:12px}.graphCard[_ngcontent-%COMP%]{position:fixed}\"]\n  });\n  return LandingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}