{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-echarts\";\nexport let AssetCardComponent = /*#__PURE__*/(() => {\n  class AssetCardComponent {\n    constructor() {\n      this.chartFont = 'bold 12px Sans-serif';\n      this.movingAverage5 = [];\n      this.movingAverage10 = [];\n      this.chartColors = ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'];\n      this.chartOptions = {\n        xAxis: {\n          data: ['2017-10-24', '2017-10-25', '2017-10-26', '2017-10-27']\n        },\n        yAxis: {},\n        series: [{\n          type: 'candlestick',\n          data: [[20, 34, 10, 38], [40, 35, 30, 50], [31, 38, 33, 44], [38, 15, 5, 42]]\n        }]\n      };\n      this.option = {\n        animation: false,\n        color: this.colorList,\n        title: {\n          left: 'center',\n          text: 'Candlestick on Mobile'\n        },\n        legend: {\n          top: 30,\n          data: ['日K', 'MA5', 'MA10', 'MA20', 'MA30']\n        },\n        tooltip: {\n          triggerOn: 'none',\n          transitionDuration: 0,\n          confine: true,\n          borderRadius: 4,\n          borderWidth: 1,\n          borderColor: '#333',\n          backgroundColor: 'rgba(255,255,255,0.9)',\n          textStyle: {\n            fontSize: 12,\n            color: '#333'\n          },\n          position: function (pos, params, el, elRect, size) {\n            const obj = {\n              top: 60\n            };\n            obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 5;\n            return obj;\n          }\n        },\n        axisPointer: {\n          link: [{\n            xAxisIndex: [0, 1]\n          }]\n        },\n        dataZoom: [{\n          type: 'slider',\n          xAxisIndex: [0, 1],\n          realtime: false,\n          start: 20,\n          end: 70,\n          top: 65,\n          height: 20,\n          handleIcon: 'path://M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z',\n          handleSize: '120%'\n        }, {\n          type: 'inside',\n          xAxisIndex: [0, 1],\n          start: 40,\n          end: 70,\n          top: 30,\n          height: 20\n        }],\n        xAxis: [{\n          type: 'category',\n          data: dates,\n          boundaryGap: false,\n          axisLine: {\n            lineStyle: {\n              color: '#777'\n            }\n          },\n          axisLabel: {\n            formatter: function (value) {\n              return echarts.format.formatTime('MM-dd', value);\n            }\n          },\n          min: 'dataMin',\n          max: 'dataMax',\n          axisPointer: {\n            show: true\n          }\n        }, {\n          type: 'category',\n          gridIndex: 1,\n          data: dates,\n          boundaryGap: false,\n          splitLine: {\n            show: false\n          },\n          axisLabel: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          axisLine: {\n            lineStyle: {\n              color: '#777'\n            }\n          },\n          min: 'dataMin',\n          max: 'dataMax',\n          axisPointer: {\n            type: 'shadow',\n            label: {\n              show: false\n            },\n            triggerTooltip: true,\n            handle: {\n              show: true,\n              margin: 30,\n              color: '#B80C00'\n            }\n          }\n        }],\n        yAxis: [{\n          scale: true,\n          splitNumber: 2,\n          axisLine: {\n            lineStyle: {\n              color: '#777'\n            }\n          },\n          splitLine: {\n            show: true\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            inside: true,\n            formatter: '{value}\\n'\n          }\n        }, {\n          scale: true,\n          gridIndex: 1,\n          splitNumber: 2,\n          axisLabel: {\n            show: false\n          },\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          splitLine: {\n            show: false\n          }\n        }],\n        grid: [{\n          left: 20,\n          right: 20,\n          top: 110,\n          height: 120\n        }, {\n          left: 20,\n          right: 20,\n          height: 40,\n          top: 260\n        }],\n        graphic: [{\n          type: 'group',\n          left: 'center',\n          top: 70,\n          width: 300,\n          bounding: 'raw',\n          children: [{\n            id: 'MA5',\n            type: 'text',\n            style: {\n              fill: this.chartColors[1],\n              font: this.chartFont\n            },\n            left: 0\n          }, {\n            id: 'MA10',\n            type: 'text',\n            style: {\n              fill: this.chartColors[2],\n              font: this.chartFont\n            },\n            left: 'center'\n          }, {\n            id: 'MA20',\n            type: 'text',\n            style: {\n              fill: this.chartColors[3],\n              font: this.chartFont\n            },\n            right: 0\n          }]\n        }],\n        series: [{\n          name: 'Volume',\n          type: 'bar',\n          xAxisIndex: 1,\n          yAxisIndex: 1,\n          itemStyle: {\n            color: '#7fbe9e'\n          },\n          emphasis: {\n            itemStyle: {\n              color: '#140'\n            }\n          },\n          data: volumes\n        }, {\n          type: 'candlestick',\n          name: '日K',\n          data: data,\n          itemStyle: {\n            color: '#ef232a',\n            color0: '#14b143',\n            borderColor: '#ef232a',\n            borderColor0: '#14b143'\n          },\n          emphasis: {\n            itemStyle: {\n              color: 'black',\n              color0: '#444',\n              borderColor: 'black',\n              borderColor0: '#444'\n            }\n          }\n        }, {\n          name: 'MA5',\n          type: 'line',\n          data: this.movingAverage5,\n          smooth: true,\n          showSymbol: false,\n          lineStyle: {\n            width: 1\n          }\n        }, {\n          name: 'MA10',\n          type: 'line',\n          data: this.movingAverage10,\n          smooth: true,\n          showSymbol: false,\n          lineStyle: {\n            width: 1\n          }\n        }]\n      };\n    }\n\n    ngOnInit() {}\n    /**\r\n     * Calculates the average closing price of the given(candleCount) Candlesticks\r\n     * @param dayCount\r\n     * @param data\r\n     * @returns result\r\n     */\n\n\n    calculateMA(candleCount, data) {\n      let result = [];\n\n      for (let i = 0, len = data.length; i < len; i++) {\n        if (i < candleCount) {\n          result.push('-');\n          continue;\n        }\n\n        let sum = 0;\n\n        for (let j = 0; j < candleCount; j++) {\n          sum += +data[i - j][1];\n        }\n\n        result.push((sum / candleCount).toFixed(2));\n      }\n\n      return result;\n    }\n\n  }\n\n  AssetCardComponent.ɵfac = function AssetCardComponent_Factory(t) {\n    return new (t || AssetCardComponent)();\n  };\n\n  AssetCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AssetCardComponent,\n    selectors: [[\"asset-chart-card\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"echarts\", \"\", 1, \"candle-chart\", 3, \"options\"]],\n    template: function AssetCardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"options\", ctx.chartOptions);\n      }\n    },\n    directives: [i1.NgxEchartsDirective],\n    styles: [\".candle-chart[_ngcontent-%COMP%]{height:400px;width:800px}\"]\n  });\n  return AssetCardComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}