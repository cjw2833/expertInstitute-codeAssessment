{"ast":null,"code":"import { catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { of, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/core.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/asset-card/asset-card.component\";\nimport * as i5 from \"../../core/pipes/currency-search-filter.pipe\";\n\nfunction LandingComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 13);\n    i0.ɵɵlistener(\"click\", function LandingComponent_div_16_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const asset_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.displayAsset(asset_r1);\n    });\n    i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"div\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 15);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"uppercase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 16);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"percent\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const asset_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", asset_r1.changePercent24Hr > 0 ? \"p-2 alert alert-success assetHover\" : \"p-2 alert alert-danger assetHover\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(asset_r1.symbol);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 5, asset_r1.name), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(11, 7, asset_r1.priceUsd, \"USD\", \"symbol-narrow\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 11, asset_r1.changePercent24Hr, \"2.2-3\"));\n  }\n}\n\nexport let LandingComponent = /*#__PURE__*/(() => {\n  class LandingComponent {\n    constructor(coreService) {\n      this.coreService = coreService;\n      this.allAssets = [];\n      this.assetName = 'Bitcoin';\n      this.downwardTrend = false;\n      this.upwardTrend = false;\n      this.alphabetical = false;\n      this.cost = false;\n    }\n\n    ngOnInit() {\n      this.getAllAssets();\n    }\n\n    getAllAssets() {\n      this.coreService.getAllAssets().pipe(catchError(error => {\n        if (error instanceof HttpErrorResponse) {\n          // this.logger.error(`There was a problem retrieving NSLDS data: ${error.message}`);\n          // TODO: change to logger\n          return of([]);\n        } else {\n          return throwError(error);\n        }\n      })).subscribe(response => {\n        this.allAssets = response.data;\n      });\n    }\n\n    filterBadges(badgeId) {\n      switch (badgeId) {\n        case 0:\n          {\n            // Alphabetical\n            console.log('alphabetical');\n            this.alphabetical = !this.alphabetical;\n            break;\n          }\n\n        case 1:\n          {\n            // Cost\n            console.log('cost');\n            this.cost = !this.cost;\n            break;\n          }\n      } //TODO: add back filters\n      // if(cost) {\n      //   return list ? list.sort(function(a, b){ return a.priceUsd-b.priceUsd; }) : [];\n      // }\n      // if(alphabetical) {\n      //   return list ? list.sort(function(a, b){\n      //     if (a.name < b.name) {return -1;}\n      //     if (a.name > b.name) {return 1;}\n      //     return 0;\n      //   }) : [];\n      // }\n\n    }\n\n    displayAsset(asset) {\n      console.log(asset);\n      this.assetName = asset.name;\n    }\n\n  }\n\n  LandingComponent.ɵfac = function LandingComponent_Factory(t) {\n    return new (t || LandingComponent)(i0.ɵɵdirectiveInject(i1.CoreService));\n  };\n\n  LandingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LandingComponent,\n    selectors: [[\"app-landing\"]],\n    decls: 23,\n    vars: 8,\n    consts: [[1, \"row\"], [1, \"col-4\"], [1, \"card\", \"marketCard\"], [1, \"pt-1\", \"card-body\"], [1, \"cardHeader\"], [1, \"mb-2\", \"starNote\"], [1, \"d-flex\"], [\"type\", \"search\", \"name\", \"name\", \"placeholder\", \"Search Currency Name\", \"aria-label\", \"Search\", 1, \"form-control\", \"mb-1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 3, \"ngClass\", \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-8\"], [1, \"card\", \"graphCard\"], [1, \"card-body\"], [\"role\", \"alert\", 3, \"ngClass\", \"click\"], [1, \"alert-heading\", \"currencyHeader\"], [1, \"currencySymbol\"], [1, \"col-4\", \"currencyDescription\"]],\n    template: function LandingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\")(5, \"span\", 4);\n        i0.ɵɵtext(6, \"MARKET\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"span\", 5);\n        i0.ɵɵtext(8, \"*prices below shown in USD\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"form\", 6)(10, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function LandingComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.searchInput = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\")(12, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function LandingComponent_Template_button_click_12_listener() {\n          return ctx.filterBadges(0);\n        });\n        i0.ɵɵtext(13, \"Alphabetical\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function LandingComponent_Template_button_click_14_listener() {\n          return ctx.filterBadges(1);\n        });\n        i0.ɵɵtext(15, \"Cost\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(16, LandingComponent_div_16_Template, 15, 14, \"div\", 9);\n        i0.ɵɵpipe(17, \"currencySearchFilter\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(18, \"div\", 10)(19, \"div\", 11)(20, \"div\", 12);\n        i0.ɵɵtext(21);\n        i0.ɵɵelement(22, \"asset-chart-card\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchInput);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.alphabetical ? \"btn btn-sm btn-dark assetHover\" : \"btn btn-sm btn-outline-dark assetHover\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.cost ? \"btn btn-sm btn-dark assetHover m-1\" : \"btn btn-sm btn-outline-dark assetHover m-1\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(17, 5, ctx.allAssets, ctx.searchInput));\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", ctx.assetName, \" \");\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgClass, i3.NgForOf, i4.AssetCardComponent],\n    pipes: [i5.CurrencySearchFilterPipe, i3.UpperCasePipe, i3.CurrencyPipe, i3.PercentPipe],\n    styles: [\".assetHover[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.cardHeader[_ngcontent-%COMP%]{font-size:40px;font-weight:200;text-align:left}.currencyHeader[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.starNote[_ngcontent-%COMP%]{font-size:10px}.currencyDescription[_ngcontent-%COMP%]{font-size:16px}.currencySymbol[_ngcontent-%COMP%]{font-size:12px}.graphCard[_ngcontent-%COMP%]{position:fixed}\"]\n  });\n  return LandingComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}